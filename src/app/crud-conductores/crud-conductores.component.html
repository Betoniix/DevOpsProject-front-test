<head>
   <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Varela+Round">
   <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
<ngb-toast *ngIf="showToast"
           [delay]="5000"
           (hidden)="toggleToast()"
           header="Notification header">
  {{toastContent}}
</ngb-toast>
   <div class="container-xl">
      <div class="table-responsive ">
         <div class="table-wrapper">
            <div class="table-title">
               <div class="row">
                  <div class="col-sm-6">
                     <h2>Gestionar<b>Conductores</b></h2>
                  </div>
                  <div class="col-sm-6">

                     <a class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#deleteEmployeeModal"><i
                           class="material-icons">&#xE15C;</i> <span>Eliminar</span></a>
                     <a class="btn btn-success" data-bs-toggle="modal" data-bs-target="#addEmployeeModal"
                        (click)="resetConductor()"><i class="material-icons">&#xE147;</i> <span>Añadir</span></a>
                  </div>
               </div>
            </div>
            <table class="table table-striped table-hover">
               <thead>
                  <tr>
                     <th>
                        <span class="custom-checkbox">
                           <input type="checkbox" id="selectAll">
                           <label for="selectAll"></label>
                        </span>
                     </th>
                     <th>ID</th>
                     <th>CURP</th>
                     <th>Nombre</th>
                     <th>Apellido paterno</th>
                     <th>Apellido materno</th>
                     <th>Fecha de nacimiento</th>
                     <th>Dirección</th>
                     <th>Salario</th>
                     <th>Número de licencia</th>
                     <th>Fecha de registro</th>
                  </tr>
               </thead>
               <tbody>
                  <tr *ngFor="let conductor of conductores">
                     <td>
                        <span class="custom-checkbox">
                           <input type="checkbox" id="checkbox5" name="options[]" value="1">
                           <label for="checkbox5"></label>
                        </span>
                     </td>
                     <td>{{ conductor.id }}</td>
                     <td>{{ conductor.CURP }}</td>
                     <td>{{ conductor.nombres }}</td>
                     <td>{{ conductor.apellido_paterno }}</td>
                     <td>{{ conductor.apellido_materno }}</td>
                     <td>{{ conductor.fecha_nacimiento | date }}</td>
                     <td>{{ conductor.direccion }}</td>
                     <td>{{ conductor.salario }}</td>
                     <td>{{ conductor.numero_licencia }}</td>
                     <td>{{ conductor.fecha_registro | date }}</td>
                     <td>
                        <a class="edit" data-bs-toggle="modal" data-bs-target="#editEmployeeModal"><i
                              class="material-icons" data-toggle="tooltip" (click)="capturarConductor(conductor)"
                              title="Edit">&#xE254; </i></a>
                        <a class="delete" data-bs-toggle="modal" data-bs-target="#deleteEmployeeModal"><i
                              class="material-icons" data-toggle="tooltip" title="Delete"
                              (click)="capturarId(conductor.id)">&#xE872;</i></a>
                     </td>
                  </tr>
               </tbody>
            </table>
            <div class="clearfix">
               <div class="hint-text">Showing <b>5</b> out of <b>25</b> entries</div>
               <ul class="pagination">
                  <li class="page-item disabled"><a href="#">Previous</a></li>
                  <li class="page-item"><a href="#" class="page-link">1</a></li>
                  <li class="page-item"><a href="#" class="page-link">2</a></li>
                  <li class="page-item active"><a href="#" class="page-link">3</a></li>
                  <li class="page-item"><a href="#" class="page-link">4</a></li>
                  <li class="page-item"><a href="#" class="page-link">5</a></li>
                  <li class="page-item"><a href="#" class="page-link">Next</a></li>
               </ul>
            </div>
         </div>
      </div>
   </div>

   <!-- Add Modal HTML -->
   <div id="addEmployeeModal" class="modal fade">
      <div class="modal-dialog">
         <div class="modal-content">
            <form [formGroup]="addConductorForm">
               <div class="modal-header">
                  <h4 class="modal-title">Añadir conductor</h4>
               </div>
               <div class="modal-body">
                  <div class="form-group" [formGroup]="addConductorForm">
                     <label>Curp</label>
                     <input type="text" class="form-control" formControlName="curp" required>
                  </div>
                  <div class="form-group" [formGroup]="addConductorForm">
                     <label>Nombre</label>
                     <input type="text" class="form-control" formControlName="nombre" required>
                  </div>
                  <div class="form-group" [formGroup]="addConductorForm">
                     <label>Apellido Paterno</label>
                     <input type="text" class="form-control" formControlName="apellidoPaterno" required>
                  </div>
                  <div class="form-group" [formGroup]="addConductorForm">
                     <label>Apellido Materno</label>
                     <textarea class="form-control" formControlName="apellidoMaterno" required></textarea>
                  </div>
                  <div class="form-group" [formGroup]="addConductorForm">
                     <label>Fecha de nacimiento</label>
                     <input type="date" class="form-control" formControlName="fechaNacimiento" required>
                  </div>
                  <div class="form-group" [formGroup]="addConductorForm">
                     <label>Dirección</label>
                     <input type="text" class="form-control" formControlName="direccion" required>
                  </div>

                  <div class="form-group" [formGroup]="addConductorForm">
                     <label>Salario</label>
                     <input type="text" class="form-control" formControlName="salario" required>
                  </div>
                  <div class="form-group" [formGroup]="addConductorForm">
                     <label>Número de licencia</label>
                     <input type="text" class="form-control" formControlName="numeroLicencia" required>
                  </div>
               </div>

               <div class="modal-footer">
                  <input type="button" class="btn btn-default" data-bs-dismiss="modal" value="Cancelar">
                  <input type="submit" class="btn btn-success" value="Añadir" [disabled]="!addConductorForm.valid"
                  (click)="agregarConductor()">
               </div>
            </form>
         </div>
      </div>
   </div>
   <!-- Edit Modal HTML -->
   <div id="editEmployeeModal" class="modal fade">
      <div class="modal-dialog">
         <div class="modal-content">
            <form [formGroup]="addConductorForm">
               <div class="modal-header">
                  <h4 class="modal-title">Editar conductor</h4>
               </div>
               <div class="modal-body">
                  <div class="form-group">
                     <label>Curp</label>
                     <input type="text" class="form-control" formControlName="curp" required>
                  </div>
                  <div class="form-group">
                     <label>Nombre</label>
                     <input type="text" class="form-control" formControlName="nombre" required>
                  </div>
                  <div class="form-group">
                     <label>Apellido Paterno</label>
                     <input type="text" class="form-control" formControlName="apellidoPaterno" required>
                  </div>
                  <div class="form-group">
                     <label>Apellido Materno</label>
                     <input type="text" class="form-control" formControlName="apellidoMaterno" required>
                  </div>
                  <div class="form-group">
                     <label>Fecha de nacimiento</label>
                     <input type="date" class="form-control" formControlName="fechaNacimiento" required>
                  </div>
                  <div class="form-group">
                     <label>Dirección</label>
                     <input type="text" class="form-control" formControlName="direccion" required>
                  </div>
                  <div class="form-group">
                     <label>Salario</label>
                     <input type="number" class="form-control" formControlName="salario" required>
                  </div>
                  <div class="form-group">
                     <label>Número de licencia</label>
                     <input type="number" class="form-control" formControlName="numeroLicencia" required>
                  </div>
               </div>
               <div class="modal-footer">
                  <input type="button" class="btn btn-default" data-bs-dismiss="modal" value="Cancelar">
                  <input type="submit" class="btn btn-success" value="Guardar" data-bs-dismiss="modal"
                     [disabled]="!addConductorForm.valid" (click)="editarConductor(idConductor)">
               </div>
            </form>
         </div>
      </div>
   </div>





   <!-- Delete Modal HTML -->
   <div id="deleteEmployeeModal" class="modal fade">
      <div class="modal-dialog">
         <div class="modal-content">
            <form>
               <div class="modal-header">
                  <h4 class="modal-title">Eliminar administrador</h4>
               </div>
               <div class="modal-body">
                  <p>Estás seguro que quieres eliminar al administrador:</p>{{idConductor}}
                  <p class="text-warning"><small>Esta acción no se podrá deshacer.</small></p>
               </div>
               <div class="modal-footer">
                  <input type="button" class="btn btn-default" data-bs-dismiss="modal" value="Cancel">
                  <input type="submit" class="btn btn-danger" value="Delete" data-bs-dismiss="modal"
                     (click)="eliminarConductor(idConductor)">
               </div>
            </form>
         </div>
      </div>
   </div>
</body>
