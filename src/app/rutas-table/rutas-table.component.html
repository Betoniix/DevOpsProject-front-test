<head>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Varela+Round">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
 </head>

 <body>
 <ngb-toast *ngIf="showToast"
            [delay]="5000"
            (hidden)="toggleToast()"
            header="Notification header">
   {{toastContent}}
 </ngb-toast>
    <div class="container-xl">
       <div class="table-responsive">
          <div class="table-wrapper">
             <div class="table-title">
                <div class="row">
                   <div class="col-sm-6">
                      <h2><b>Rutas</b></h2>
                   </div>
                   <div class="col-sm-6">
                      <a href="#agregarRutaModal" class="btn btn-success" data-toggle="modal"><i
                            class="material-icons">&#xE147;</i> <span>Agregar Nueva Ruta</span></a>
                      <a href="#eliminarRutaModal" class="btn btn-danger" data-toggle="modal"><i
                            class="material-icons">&#xE15C;</i> <span>Eliminar</span></a>
                   </div>
                </div>
             </div>
             <table class="table table-striped table-hover">
                <thead>
                   <tr>
                      <th>
                         <span class="custom-checkbox">
                            <input type="checkbox" id="selectAll">
                            <label for="selectAll"></label>
                         </span>
                      </th>
                      <th>Nombre</th>
                      <th>Ubicación de la empresa</th>
                      <th>Ubicación de destino</th>
                      <th>Fecha de recorrido</th>
                      <th>Éxito de la ruta</th>
                      <th>Acciones</th>
                   </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let ruta of rutas">
                     <td>
                        <span class="custom-checkbox">
                           <input type="checkbox" id="checkbox5" name="options[]" value="1">
                           <label for="checkbox5"></label>
                        </span>
                     </td>
                     <td>{{ ruta.nombre_ruta }}</td>
                     <td>{{ ruta.long_empresa }}</td>
                     <td>{{ ruta.long_destino }}</td>
                     <td>{{ ruta.fecha_recorrido }}</td>
                     <td>{{ ruta.exitoso }}</td>
                     <td>
                        <a class="edit" data-bs-toggle="modal" data-bs-target="#editarRutaModal"
                           (click)="capturarRuta(ruta)"><i class="material-icons"
                              data-toggle="tooltip" title="Edit">&#xE254;</i></a>
                        <a class="delete" data-bs-toggle="modal" data-bs-target="#eliminarRutaModal"
                           (click)="capturarRuta(ruta)"><i class="material-icons"
                              data-toggle="tooltip" title="Delete">&#xE872;</i></a>
                     </td>
                  </tr>


                </tbody>
             </table>
             <div class="clearfix">
                <div class="hint-text">Showing <b>5</b> out of <b>25</b> entries</div>
                <ul class="pagination">
                   <li class="page-item disabled"><a href="#">Previous</a></li>
                   <li class="page-item"><a href="#" class="page-link">1</a></li>
                   <li class="page-item"><a href="#" class="page-link">2</a></li>
                   <li class="page-item active"><a href="#" class="page-link">3</a></li>
                   <li class="page-item"><a href="#" class="page-link">4</a></li>
                   <li class="page-item"><a href="#" class="page-link">5</a></li>
                   <li class="page-item"><a href="#" class="page-link">Next</a></li>
                </ul>
             </div>
          </div>
       </div>
    </div>

    <div id="agregarRutaModal" class="modal fade">
       <div class="modal-dialog">
          <div class="modal-content">
             <form [formGroup]="addRutaForm">
                <div class="modal-header">
                   <h4 class="modal-title">Agregar ruta</h4>
                   <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                </div>
                <div class="modal-body">
                   <div class="form-group" [formGroup]="addRutaForm">
                      <label>Nombre</label>
                      <input type="text" class="form-control" placeholder="Nombre" formControlName="nombre_ruta" required>
                   </div>
                   <div class="form-group" [formGroup]="addRutaForm">
                      <label>Ubicación de la empresa (Longitud)</label>
                      <input type="text" class="form-control" formControlName="long_empresa" required>
                      <label>Ubicación de la empresa (Latitud)</label>
                      <input type="text" class="form-control" formControlName="lat_empresa" required>
                   </div>
                   <div class="form-group" [formGroup]="addRutaForm">
                     <label>Ubicación del destino (Longitud)</label>
                     <input type="text" class="form-control" formControlName="long_destino" required>
                     <label>Ubicación del destino (Latitud)</label>
                     <input type="text" class="form-control" formControlName="lat_destino" required>
                   </div>
                   <div class="form-group" [formGroup]="addRutaForm">
                      <label>Fecha de recorrido</label>
                      <input type="text" class="form-control" formControlName="fecha_recorrido" required>
                   </div>
                   <div class="form-group" [formGroup]="addRutaForm">
                     <label>Fecha de creación</label>
                     <input type="text" class="form-control" formControlName="fecha_creacion" required>
                   </div>
                   <div class="form-group" [formGroup]="addRutaForm">
                     <label>Resultado de la ruta</label>
                     <input type="text" class="form-control" formControlName="exitoso" required>
                  </div>
                  <div class="form-group" [formGroup]="addRutaForm">
                     <label>Descripción</label>
                     <input type="text-area" class="form-control" formControlName="descripcion_problema" required>
                  </div>
                </div>
                <div class="modal-footer">
                   <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancelar">
                   <input type="submit" class="btn btn-success" value="Agregar" [disabled]="!addRutaForm.valid"
                   (click)="agregarRutas()">
                </div>
             </form>
          </div>
       </div>
    </div>
    <!-- Edit Modal HTML -->
    <div id="editarRutaModal" class="modal fade">
       <div class="modal-dialog">
          <div class="modal-content">
             <form [formGroup]="addRutaForm">
                <div class="modal-header">
                   <h4 class="modal-title">Editar ruta</h4>
                   <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                </div>
                <div class="modal-body">
                  <div class="form-group" [formGroup]="addRutaForm">
                      <label>Nombre</label>
                      <input type="text" class="form-control" placeholder="Nombre" formControlName="nombre_ruta" required>
                   </div>
                   <div class="form-group" [formGroup]="addRutaForm">
                      <label>Ubicación de la empresa (Longitud)</label>
                      <input type="text" class="form-control" formControlName="long_empresa" required>
                      <label>Ubicación de la empresa (Latitud)</label>
                      <input type="text" class="form-control" formControlName="lat_empresa" required>
                   </div>
                   <div class="form-group" [formGroup]="addRutaForm">
                     <label>Ubicación del destino (Longitud)</label>
                     <input type="text" class="form-control" formControlName="long_destino" required>
                     <label>Ubicación del destino (Latitud)</label>
                     <input type="text" class="form-control" formControlName="lat_destino" required>
                   </div>
                   <div class="form-group" [formGroup]="addRutaForm">
                      <label>Fecha de recorrido</label>
                      <input type="text" class="form-control" formControlName="fecha_recorrido" required>
                   </div>
                   <div class="form-group" [formGroup]="addRutaForm">
                     <label>Fecha de creación</label>
                     <input type="text" class="form-control" formControlName="fecha_creacion" required>
                   </div>
                   <div class="form-group" [formGroup]="addRutaForm">
                     <label>Resultado de la ruta</label>
                     <input type="text" class="form-control" formControlName="exitoso" required>
                  </div>
                  <div class="form-group" [formGroup]="addRutaForm">
                     <label>Descripción</label>
                     <input type="text-area" class="form-control" formControlName="descripcion_problema" required>
                  </div>

                </div>
                <div class="modal-footer">
                   <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancelar">
                   <input type="submit" class="btn btn-info" value="Guardar">
                </div>
             </form>
          </div>
       </div>
    </div>
    <!-- Delete Modal HTML -->
    <div id="eliminarRutaModal" class="modal fade">
       <div class="modal-dialog">
          <div class="modal-content">
             <form>
                <div class="modal-header">
                   <h4 class="modal-title">Eliminar ruta</h4>
                   <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                </div>
                <div class="modal-body">
                   <p>Estas segurx de que quieres eliminar esta ruta?</p>2
                   <p class="text-warning"><small>No hay vuelta atrás.</small></p>
                </div>
                <div class="modal-footer">
                   <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancelar">
                   <input type="submit" class="btn btn-danger" value="Eliminar">
                </div>
             </form>
          </div>
       </div>
    </div>
 </body>
